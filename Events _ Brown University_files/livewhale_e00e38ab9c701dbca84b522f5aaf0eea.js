/*      Request ID: e00e38ab9c701dbca84b522f5aaf0eea (03/06/2025 11:24am) (NcdJCgAhDATAH9m3+Y9Lg0I0krh8f2Bg6lao2olkegd4OJaHL4FlQ9rhrVGIrEZ0LVvomDtJy/Bsba6/gf68)      */



/*      Resource ID: 1a691aa1f1cd8d5f1b0e9101876 (public.es6, compiled by babel, minified by uglifyjs) (07/16/2024 2:40pm) (A:5305, C:6064, D:6064, F:6064, G:3134, K:3134)      */

"use strict";(function(a,l,i){var t=l("body");var e=t.find("form[action^='/live/public/submit']");var n={init:function i(){this.initImageUploader();this.initFileUploader();this.initOnlineFields();this.initLocationFields();this.initTagFields();this.initTabs();this.initSubmitHandler();a.lib.initDatepicker(l("input.lw_date"),null,true);if(l.fn.timepicker){l("input.lw_time").timepicker({show24Hours:"euro"===a.timezone_format?true:false,startTime:"6:00am"})}},initLocationFields:function i(){var e=l("#event_location");var t=l(".lw_location_other_wrapper");if(e.find("option.location_other").length){e.on("change",function(){if(e.find("option:selected").hasClass("location_other")){t.show()}else{t.hide()}})}},initTagFields:function i(){var e=l("input[name=event_tags_other]");var t=l(".lw_tag_other_wrapper");if(e.length){e.on("change",function(){if(e.is(":checked")){t.show()}else{t.hide()}})}},initOnlineFields:function i(){var e=l("#event_is_online");var t=l(".lw_online_fields");e.on("change",function(){if(e.prop("checked")==true){t.show()}else{t.hide()}})},initImageUploader:function i(){var e;var t=l("input.lw_upload,input.lw_image_upload");if(!t.length){return}e='<div class="lw_uploader">'+'\t<input class="lw_uploader_browse" id="lw_uploader_image" type="button" value="Browse...">'+"</div>";var n=l(e).replaceAll(t);n.uploader("uploadInPlace","images",{upload_response_input_name:"uploader_response_image"})},initFileUploader:function i(){var e;var t=l("input.lw_file_upload");if(!t.length){return}e='<div class="lw_uploader">'+'\t<input class="lw_uploader_browse" id="lw_uploader_file" type="button" value="Browse...">'+"</div>";var n=l(e).replaceAll(t);n.uploader("uploadInPlace","files",{upload_response_input_name:"uploader_response_file"})},initSubmitHandler:function i(){e.on("click",'input[type="submit"],button[type="submit"]',function(i){i.preventDefault();var e=l(this).parents("form"),t=e.attr("action").split("/").pop(),n=l(this);if(t==="news"||t==="event"||t==="image"){n.attr("disabled","disabled").val("Please wait...");if(typeof tinyMCE!=="undefined"){tinyMCE.triggerSave()}if(l("#event_location_other").length&&!l("#event_location_other").is(":visible")){l("#event_location_other").val("")}l.post(a.liveurl_dir+"/public/submit/"+t,e.find(":input").serialize(),function(i){if(i.error){e.find(".lw_captcha").captcha("refresh");n.removeAttr("disabled").val("Submit");a.prompt("Missing or invalid data",i.error,"failure",{Okay:""})}else{if(l('input[name="thanks_url"]').val()){document.location.href=l('input[name="thanks_url"]').val()}else{document.location.href=a.thanks_url}}},"json")}return false})},initTabs:function i(){var e=l(".lw_submit_tab");if(e.length){return}t.on("click",".lw_submit_tab",function(){l(".lw_submit_tab").removeClass("lw_submit_active");l(this).addClass("lw_submit_active");var i=l("#"+this.id.replace("_link",""));var e=i.find(".lw_captcha");if(window.grecaptcha&&e.length&&e.data("lwCaptcha")){e.captcha("refresh")}i.show().siblings(".lw_public_tab").hide();return false});l("#lw_public_news_link").trigger("click")}};n.init()})(livewhale,livewhale.jQuery||window.jQuery,window);